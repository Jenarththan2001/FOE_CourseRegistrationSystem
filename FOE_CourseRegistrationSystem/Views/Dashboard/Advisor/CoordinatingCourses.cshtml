@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adviser Dashboard</title>
    <link rel="stylesheet" href="~/css/CoordinatingCourses.css">
    <link rel="stylesheet" href="~/css/AdminDashboard_style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <span>FOE UOJ</span>
        </div>
        <ul class="nav-links">
            <div class="top-links">
            <li>
                <a href="@Url.Action("AdviserDashboard", "Advisor")"><i class="fas fa-home"></i><span>Dashboard</span></a>
            </li>
            <li>
                <a href="@Url.Action("AdviseeStudents", "Advisor")"><i class="fas fa-users"></i><span>Advisee Course Registration</span></a>
            </li>
            <li class="active">
                <a href="@Url.Action("CoordinatingCourses", "Advisor")"><i class="fas fa-book"></i><span>Coordinating Courses</span></a>
            </li>
    </div>
    <div class="bottom-links">
        <li class="bottom-items">
            <a href="#"><i class="fas fa-cog"></i><span>Settings</span></a>
        </li>
        <li class="bottom-items">
            <a href="#"><i class="fas fa-question-circle"></i><span>Help</span></a>
        </li>
        <li class="bottom-items">
            <a href="~/Account/Login"><i class="fas fa-sign-out-alt"></i><span>Log out</span></a>
        </li>
    </div>
    </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <h1>Coordinating Course Details</h1>
            <div class="user-info">
                <div class="profile-pic">
                    <img id="admin-profile" src="~/images/profile.png" alt="Admin Profile">
                </div>
                <span id="admin-name">| Admin: John Doe</span>
                <span id="date-time">| Date: <span id="current-date"></span> | Time: <span id="current-time"></span></span>
            </div>
        </div>

        <!-- Coordinating Courses Table -->
        <div class="table-container">
            <table class="coordinating-courses-table">
                <thead>
                    <tr>
                        <th>Course Code</th>
                        <th>Course Name</th>
                        <th>Number of Students</th>
                        <th>Student Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>CS101</td>
                        <td>Introduction to Programming</td>
                        <td>50</td>
                        <td>
                            <button class="action-button view-students-button" data-coursecode="CS101">
                                <i class="fas fa-eye"></i> View Students
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>CS201</td>
                        <td>Data Structures and Algorithms</td>
                        <td>40</td>
                        <td>
                            <button class="action-button view-students-button" data-coursecode="CS201">
                                <i class="fas fa-eye"></i> View Students
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>EE101</td>
                        <td>Basic Electrical Engineering</td>
                        <td>60</td>
                        <td>
                            <button class="action-button view-students-button" data-coursecode="EE101">
                                <i class="fas fa-eye"></i> View Students
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>ME101</td>
                        <td>Introduction to Mechanical Engineering</td>
                        <td>45</td>
                        <td>
                            <button class="action-button view-students-button" data-coursecode="ME101">
                                <i class="fas fa-eye"></i> View Students
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Student List Modal -->
    <div id="studentListModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Student List for <span id="modalCourseCode"></span></h2>
            <table id="studentTable">
                <thead>
                    <tr>
                        <th>RegNo</th>
                        <th>Full Name</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody id="studentListBody">
                    <!-- Student details will be dynamically added here -->
                </tbody>
            </table>
        </div>
    </div>

        <script>
            function updateTime() {
                const currentDate = new Date();
                document.getElementById("current-date").textContent = currentDate.toLocaleDateString();
                document.getElementById("current-time").textContent = currentDate.toLocaleTimeString();
            }

            // Update time every second
            setInterval(updateTime, 1000);

            // Initial call to set the time immediately
            updateTime();
            document.addEventListener("DOMContentLoaded", function() {
            const studentListModal = document.getElementById("studentListModal");
            const modalCourseCode = document.getElementById("modalCourseCode");
            const studentListBody = document.getElementById("studentListBody");
            const closeBtn = document.querySelector(".close");
            const viewStudentButtons = document.querySelectorAll(".view-students-button");

            viewStudentButtons.forEach(button => {
                button.addEventListener("click", function() {
                    const courseCode = this.getAttribute("data-coursecode");
                    modalCourseCode.textContent = courseCode;
                    studentListBody.innerHTML = ""; // Clear previous data

                    // Dummy student data based on course code
                    let students = [];
                    if (courseCode === "CS101") {
                        students = [{
                                regno: "2021E001",
                                fullName: "John Doe",
                                email: "john.doe@example.com"
                            },
                            {
                                regno: "2021E002",
                                fullName: "Jane Smith",
                                email: "jane.smith@example.com"
                            },
                            {
                                regno: "2021E003",
                                fullName: "Alice Johnson",
                                email: "alice.johnson@example.com"
                            }
                        ];
                    } else if (courseCode === "CS201") {
                        students = [{
                                regno: "2020E010",
                                fullName: "Bob Williams",
                                email: "bob.williams@example.com"
                            },
                            {
                                regno: "2020E011",
                                fullName: "Charlie Brown",
                                email: "charlie.brown@example.com"
                            }
                        ];
                    } else if (courseCode === "EE101") {
                        students = [{
                                regno: "2022E005",
                                fullName: "Diana Miller",
                                email: "diana.miller@example.com"
                            },
                            {
                                regno: "2022E006",
                                fullName: "Ethan Davis",
                                email: "ethan.davis@example.com"
                            },
                            {
                                regno: "2022E007",
                                fullName: "Fiona Wilson",
                                email: "fiona.wilson@example.com"
                            }
                        ];
                    } else if (courseCode === "ME101") {
                        students = [{
                                regno: "2023E015",
                                fullName: "George Anderson",
                                email: "george.anderson@example.com"
                            },
                            {
                                regno: "2023E016",
                                fullName: "Hannah Taylor",
                                email: "hannah.taylor@example.com"
                            }
                        ];
                    }

                    // Populate the student list table
                    students.forEach(student => {
                        const row = document.createElement("tr");
                        row.innerHTML = `
                            <td>${student.regno}</td>
                            <td>${student.fullName}</td>
                            <td>${student.email}</td>
                        `;
                        studentListBody.appendChild(row);
                    });

                    studentListModal.style.display = "block";
                });
            });

            closeBtn.addEventListener("click", function() {
                studentListModal.style.display = "none";
            });

            window.addEventListener("click", function(event) {
                if (event.target == studentListModal) {
                    studentListModal.style.display = "none";
                }
            });
        });

        </script>
</body>

</html>